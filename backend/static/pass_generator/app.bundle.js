!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);r(1);function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i={big:25,small:25,numbers:10,brackets:8,commas:4,other:14},s=5,o=40;new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selected={stringLength:0,passwordLength:10},this.form=document.querySelector(".generator-form"),this.generatePasswordBtn=document.querySelector(".form-btn.password"),this.copyToClipboardBtn=document.querySelector(".form-btn.copy-to-clipboard"),this.lengthInput=document.querySelector(".form-input.size"),this.passwordInput=document.querySelector(".form-input.password"),this.lengthError=document.querySelector(".form-input.error.length"),this.noDataSetError=document.querySelector(".form-input.no-dataset"),this.uniqueError=document.querySelector(".form-input.unique"),this.divOk=document.querySelector(".div.password.ok"),this.divError=document.querySelector(".div.password.error"),this.checkBoxes=document.querySelectorAll('input[type="checkbox"].strings'),this.checkBoxUnique=document.querySelector('input[type="checkbox"].unique'),this.addEventListeners(),this.addCheckBoxesEventListeners(),this.setInitialValues(),this.hideResults()}var t,r,c;return t=e,(r=[{key:"addCheckBoxesEventListeners",value:function(){var e=this.selected,t=this;this.checkBoxes.forEach((function(r){r.addEventListener("change",(function(n){var s,o,c,a=r.getAttribute("id");s=n.target,o=e,c=a,s.checked?(o[c]=!0,o.stringLength=o.stringLength+i[c]):o&&o.hasOwnProperty(c)&&(o.stringLength=o.stringLength-i[c],delete o[c]);var u=t.selected.stringLength>0;t.checkIfValid(u,t.noDataSetError),t.checkIfUnique(),t.hideResults()}))}))}},{key:"setInitialValues",value:function(){this.checkBoxes.forEach((function(e){e.checked=!1})),this.checkBoxUnique.checked=!1,this.checkBoxes[0].click(),this.lengthInput.value=this.selected.passwordLength}},{key:"checkIfValid",value:function(e,t){e?(this.generatePasswordBtn.removeAttribute("disabled"),t.classList.add("hide")):(this.generatePasswordBtn.setAttribute("disabled","true"),t.classList.remove("hide"))}},{key:"hideResults",value:function(){this.divError.classList.add("hide"),this.divOk.classList.add("hide")}},{key:"checkIfUnique",value:function(){if(this.checkBoxUnique.checked){this.selected[this.checkBoxUnique.getAttribute("id")]=!0;var e=this.selected.stringLength>=this.selected.passwordLength&&this.selected.passwordLength>0;this.checkIfValid(e,this.uniqueError)}else delete this.selected[this.checkBoxUnique.getAttribute("id")]}},{key:"addEventListeners",value:function(){var e=this;this.form.addEventListener("submit",(function(e){e.preventDefault()})),this.generatePasswordBtn.addEventListener("click",(function(){fetch("/pass_generator/data",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e.selected)}).then((function(e){return e.json()})).then((function(t){t&&t.password&&(e.divError.classList.add("hide"),e.divOk.classList.remove("hide"),e.passwordInput.value=t.password),t&&t.error&&(e.divError.classList.remove("hide"),e.divOk.classList.add("hide"),e.divError.textContent="Błąd!"+t.error)})).catch((function(t){e.divError.classList.remove("hide"),e.divOk.classList.add("hide"),e.divError.textContent="Błąd!"+t.message}))})),this.lengthInput.addEventListener("input",(function(t){var r=Number.parseFloat(t.target.value),n=Number.isInteger(r)&&r>=s&&r<=o;e.checkIfValid(n,e.lengthError),e.selected.passwordLength=n?Number.parseInt(t.target.value):0,e.checkIfUnique(),e.hideResults()})),this.checkBoxUnique.addEventListener("change",(function(){e.checkIfUnique(),e.hideResults()})),this.copyToClipboardBtn.addEventListener("click",(function(){e.passwordInput.value&&navigator.clipboard.writeText(e.passwordInput.value).catch((function(){console.log("błąd kopiowania do schowka")}))}))}}])&&n(t.prototype,r),c&&n(t,c),Object.defineProperty(t,"prototype",{writable:!1}),e}())},function(e,t,r){}]);